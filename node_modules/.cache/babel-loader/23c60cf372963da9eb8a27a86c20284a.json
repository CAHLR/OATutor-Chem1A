{"ast":null,"code":"var gen=require('random-seed');// Replace variables with their values in a string of text\nfunction variabilize(text,variabilization){if(typeof variabilization==='undefined'||Object.keys(variabilization).length===0){return text;}Object.keys(variabilization).forEach(function(v){if(variabilization[v].length!==1){console.log(\"[WARNING] - variable not properly chosen\");}var replaceOption=variabilization[v][0];text=text.replace(new RegExp('@{'+v+'}','g'),replaceOption);});return text;}// Lock in variables chosen at Problem/Step/Hint. This method must be imported and called elsewhere\nfunction chooseVariables(variabilization,seed){if(typeof variabilization==='undefined'||Object.keys(variabilization).length===0){return variabilization;}var numOptions=0;for(var v in variabilization){numOptions=Math.max(numOptions,variabilization[v].length);}var rand1=gen.create(seed);var chosen=rand1(numOptions);Object.keys(variabilization).forEach(function(v){// Take r index of each variable, r is same across all vars.\nvar replaceOption=variabilization[v][(chosen+1)%variabilization[v].length];variabilization[v]=[replaceOption];});return variabilization;}export{variabilize,chooseVariables};","map":{"version":3,"names":["gen","require","variabilize","text","variabilization","Object","keys","length","forEach","v","console","log","replaceOption","replace","RegExp","chooseVariables","seed","numOptions","Math","max","rand1","create","chosen"],"sources":["/Users/allisonwang/Downloads/chem-final/OATutor-Chem1A/src/platform-logic/variabilize.js"],"sourcesContent":["var gen = require('random-seed');\n\n// Replace variables with their values in a string of text\nfunction variabilize(text, variabilization) {\n    if (typeof variabilization === 'undefined' || Object.keys(variabilization).length === 0) {\n        return text;\n    }\n    Object.keys(variabilization).forEach(v => {\n        if (variabilization[v].length !== 1) {\n            console.log(\"[WARNING] - variable not properly chosen\");\n        }\n        var replaceOption = variabilization[v][0];\n        text = text.replace(new RegExp('@{' + v + '}', 'g'), replaceOption);\n    });\n    return text;\n}\n\n// Lock in variables chosen at Problem/Step/Hint. This method must be imported and called elsewhere\nfunction chooseVariables(variabilization, seed) {\n    if (typeof variabilization === 'undefined' || Object.keys(variabilization).length === 0) {\n        return variabilization\n    }\n    var numOptions = 0;\n    for (var v in variabilization) {\n        numOptions = Math.max(numOptions, variabilization[v].length);\n    }\n    var rand1 = gen.create(seed);\n    var chosen = rand1(numOptions)\n    Object.keys(variabilization).forEach(v => {\n        // Take r index of each variable, r is same across all vars.\n        var replaceOption = variabilization[v][(chosen + 1) % variabilization[v].length];\n        variabilization[v] = [replaceOption];\n    });\n    return variabilization;\n}\n\nexport { variabilize, chooseVariables }\n"],"mappings":"AAAA,GAAIA,IAAG,CAAGC,OAAO,CAAC,aAAD,CAAjB,CAEA;AACA,QAASC,YAAT,CAAqBC,IAArB,CAA2BC,eAA3B,CAA4C,CACxC,GAAI,MAAOA,gBAAP,GAA2B,WAA3B,EAA0CC,MAAM,CAACC,IAAP,CAAYF,eAAZ,EAA6BG,MAA7B,GAAwC,CAAtF,CAAyF,CACrF,MAAOJ,KAAP,CACH,CACDE,MAAM,CAACC,IAAP,CAAYF,eAAZ,EAA6BI,OAA7B,CAAqC,SAAAC,CAAC,CAAI,CACtC,GAAIL,eAAe,CAACK,CAAD,CAAf,CAAmBF,MAAnB,GAA8B,CAAlC,CAAqC,CACjCG,OAAO,CAACC,GAAR,CAAY,0CAAZ,EACH,CACD,GAAIC,cAAa,CAAGR,eAAe,CAACK,CAAD,CAAf,CAAmB,CAAnB,CAApB,CACAN,IAAI,CAAGA,IAAI,CAACU,OAAL,CAAa,GAAIC,OAAJ,CAAW,KAAOL,CAAP,CAAW,GAAtB,CAA2B,GAA3B,CAAb,CAA8CG,aAA9C,CAAP,CACH,CAND,EAOA,MAAOT,KAAP,CACH,CAED;AACA,QAASY,gBAAT,CAAyBX,eAAzB,CAA0CY,IAA1C,CAAgD,CAC5C,GAAI,MAAOZ,gBAAP,GAA2B,WAA3B,EAA0CC,MAAM,CAACC,IAAP,CAAYF,eAAZ,EAA6BG,MAA7B,GAAwC,CAAtF,CAAyF,CACrF,MAAOH,gBAAP,CACH,CACD,GAAIa,WAAU,CAAG,CAAjB,CACA,IAAK,GAAIR,EAAT,GAAcL,gBAAd,CAA+B,CAC3Ba,UAAU,CAAGC,IAAI,CAACC,GAAL,CAASF,UAAT,CAAqBb,eAAe,CAACK,CAAD,CAAf,CAAmBF,MAAxC,CAAb,CACH,CACD,GAAIa,MAAK,CAAGpB,GAAG,CAACqB,MAAJ,CAAWL,IAAX,CAAZ,CACA,GAAIM,OAAM,CAAGF,KAAK,CAACH,UAAD,CAAlB,CACAZ,MAAM,CAACC,IAAP,CAAYF,eAAZ,EAA6BI,OAA7B,CAAqC,SAAAC,CAAC,CAAI,CACtC;AACA,GAAIG,cAAa,CAAGR,eAAe,CAACK,CAAD,CAAf,CAAmB,CAACa,MAAM,CAAG,CAAV,EAAelB,eAAe,CAACK,CAAD,CAAf,CAAmBF,MAArD,CAApB,CACAH,eAAe,CAACK,CAAD,CAAf,CAAqB,CAACG,aAAD,CAArB,CACH,CAJD,EAKA,MAAOR,gBAAP,CACH,CAED,OAASF,WAAT,CAAsBa,eAAtB"},"metadata":{},"sourceType":"module"}