{"ast":null,"code":"import _slicedToArray from\"/Users/songwang/allison/chem/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState,useContext,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var LocalizationContext=/*#__PURE__*/createContext();export var LocalizationProvider=function LocalizationProvider(_ref){var children=_ref.children;var _useState=useState(function(){var hashParams=new URLSearchParams(window.location.hash.split('?')[1]);var langFromUrl=hashParams.get('locale');if(langFromUrl&&['en','es','se'].includes(langFromUrl)){localStorage.setItem('locale',langFromUrl);localStorage.setItem('defaultLocale',langFromUrl);return langFromUrl;}var storedLocale=localStorage.getItem('locale');return storedLocale&&['en','es','se'].includes(storedLocale)?storedLocale:'en';}),_useState2=_slicedToArray(_useState,2),language=_useState2[0],setLanguage=_useState2[1];useEffect(function(){var updateLanguageFromUrl=function updateLanguageFromUrl(){var hashParams=new URLSearchParams(window.location.hash.split('?')[1]);var langFromUrl=hashParams.get('locale');if(langFromUrl&&['en','es','se'].includes(langFromUrl)){setLanguage(langFromUrl);localStorage.setItem('locale',langFromUrl);localStorage.setItem('defaultLocale',langFromUrl);}};window.addEventListener('hashchange',updateLanguageFromUrl);return function(){window.removeEventListener('hashchange',updateLanguageFromUrl);};},[]);useEffect(function(){if(['en','es','se'].includes(language)){localStorage.setItem('locale',language);}},[language]);return/*#__PURE__*/_jsx(LocalizationContext.Provider,{value:{language:language,setLanguage:setLanguage},children:children});};export var useLocalization=function useLocalization(){return useContext(LocalizationContext);};export var LocalizationConsumer=LocalizationContext.Consumer;","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","LocalizationContext","LocalizationProvider","children","hashParams","URLSearchParams","window","location","hash","split","langFromUrl","get","includes","localStorage","setItem","storedLocale","getItem","language","setLanguage","updateLanguageFromUrl","addEventListener","removeEventListener","useLocalization","LocalizationConsumer","Consumer"],"sources":["/Users/songwang/allison/chem/OATutor-Chem1A/src/util/LocalizationContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\n\nconst LocalizationContext = createContext();\n\nexport const LocalizationProvider = ({ children }) => {\n  const [language, setLanguage] = useState(() => {\n    const hashParams = new URLSearchParams(window.location.hash.split('?')[1]);\n    const langFromUrl = hashParams.get('locale');\n    if (langFromUrl && ['en', 'es', 'se'].includes(langFromUrl)) {\n      localStorage.setItem('locale', langFromUrl);\n      localStorage.setItem('defaultLocale', langFromUrl);\n      return langFromUrl;\n    }\n    const storedLocale = localStorage.getItem('locale');\n    return storedLocale && ['en', 'es', 'se'].includes(storedLocale) ? storedLocale : 'en';\n  });\n\n  useEffect(() => {\n    const updateLanguageFromUrl = () => {\n      const hashParams = new URLSearchParams(window.location.hash.split('?')[1]);\n      const langFromUrl = hashParams.get('locale');\n      if (langFromUrl && ['en', 'es', 'se'].includes(langFromUrl)) {\n        setLanguage(langFromUrl);\n        localStorage.setItem('locale', langFromUrl);\n        localStorage.setItem('defaultLocale', langFromUrl);\n      }\n    };\n\n    window.addEventListener('hashchange', updateLanguageFromUrl);\n\n    return () => {\n      window.removeEventListener('hashchange', updateLanguageFromUrl);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (['en', 'es', 'se'].includes(language)) {\n      localStorage.setItem('locale', language);\n    }\n  }, [language]);\n\n  return (\n    <LocalizationContext.Provider value={{ language, setLanguage }}>\n      {children}\n    </LocalizationContext.Provider>\n  );\n};\n\nexport const useLocalization = () => useContext(LocalizationContext);\n\nexport const LocalizationConsumer = LocalizationContext.Consumer;\n"],"mappings":"iIAAA,MAAOA,MAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,CAAyCC,UAAzC,CAAqDC,SAArD,KAAsE,OAAtE,C,2CAEA,GAAMC,oBAAmB,cAAGJ,aAAa,EAAzC,CAEA,MAAO,IAAMK,qBAAoB,CAAG,QAAvBA,qBAAuB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CACpD,cAAgCL,QAAQ,CAAC,UAAM,CAC7C,GAAMM,WAAU,CAAG,GAAIC,gBAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAApB,CAAnB,CACA,GAAMC,YAAW,CAAGN,UAAU,CAACO,GAAX,CAAe,QAAf,CAApB,CACA,GAAID,WAAW,EAAI,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,EAAmBE,QAAnB,CAA4BF,WAA5B,CAAnB,CAA6D,CAC3DG,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+BJ,WAA/B,EACAG,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCJ,WAAtC,EACA,MAAOA,YAAP,CACD,CACD,GAAMK,aAAY,CAAGF,YAAY,CAACG,OAAb,CAAqB,QAArB,CAArB,CACA,MAAOD,aAAY,EAAI,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,EAAmBH,QAAnB,CAA4BG,YAA5B,CAAhB,CAA4DA,YAA5D,CAA2E,IAAlF,CACD,CAVuC,CAAxC,wCAAOE,QAAP,eAAiBC,WAAjB,eAYAlB,SAAS,CAAC,UAAM,CACd,GAAMmB,sBAAqB,CAAG,QAAxBA,sBAAwB,EAAM,CAClC,GAAMf,WAAU,CAAG,GAAIC,gBAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAApB,CAAnB,CACA,GAAMC,YAAW,CAAGN,UAAU,CAACO,GAAX,CAAe,QAAf,CAApB,CACA,GAAID,WAAW,EAAI,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,EAAmBE,QAAnB,CAA4BF,WAA5B,CAAnB,CAA6D,CAC3DQ,WAAW,CAACR,WAAD,CAAX,CACAG,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+BJ,WAA/B,EACAG,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCJ,WAAtC,EACD,CACF,CARD,CAUAJ,MAAM,CAACc,gBAAP,CAAwB,YAAxB,CAAsCD,qBAAtC,EAEA,MAAO,WAAM,CACXb,MAAM,CAACe,mBAAP,CAA2B,YAA3B,CAAyCF,qBAAzC,EACD,CAFD,CAGD,CAhBQ,CAgBN,EAhBM,CAAT,CAkBAnB,SAAS,CAAC,UAAM,CACd,GAAI,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,EAAmBY,QAAnB,CAA4BK,QAA5B,CAAJ,CAA2C,CACzCJ,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+BG,QAA/B,EACD,CACF,CAJQ,CAIN,CAACA,QAAD,CAJM,CAAT,CAMA,mBACE,KAAC,mBAAD,CAAqB,QAArB,EAA8B,KAAK,CAAE,CAAEA,QAAQ,CAARA,QAAF,CAAYC,WAAW,CAAXA,WAAZ,CAArC,UACGf,QADH,EADF,CAKD,CA1CM,CA4CP,MAAO,IAAMmB,gBAAe,CAAG,QAAlBA,gBAAkB,SAAMvB,WAAU,CAACE,mBAAD,CAAhB,EAAxB,CAEP,MAAO,IAAMsB,qBAAoB,CAAGtB,mBAAmB,CAACuB,QAAjD"},"metadata":{},"sourceType":"module"}