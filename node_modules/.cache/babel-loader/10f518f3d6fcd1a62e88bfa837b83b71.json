{"ast":null,"code":"import _classCallCheck from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{withStyles}from'@material-ui/core/styles';import Accordion from'@material-ui/core/Accordion';import AccordionSummary from'@material-ui/core/AccordionSummary';import AccordionDetails from'@material-ui/core/AccordionDetails';import Typography from'@material-ui/core/Typography';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import HintTextbox from'./HintTextbox.js';import{renderText,chooseVariables}from'../../platform-logic/renderText.js';import Spacer from\"../Spacer\";import{ThemeContext}from\"../../config/config\";import withTranslation from\"../../util/withTranslation.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SubHintSystem=/*#__PURE__*/function(_React$Component){_inherits(SubHintSystem,_React$Component);var _super=_createSuper(SubHintSystem);function SubHintSystem(props){var _this;_classCallCheck(this,SubHintSystem);_this=_super.call(this,props);_this.unlockHint=function(event,expanded,i){if(_this.state.currentExpanded===i){_this.setState({currentExpanded:-1});}else{_this.setState({currentExpanded:i});if(expanded&&i<_this.props.hintStatus.length){_this.props.unlockHint(i,_this.props.parent);}_this.setState({latestStep:i});}};_this.isLocked=function(hintNum){if(hintNum===0){return false;}var dependencies=_this.props.hints[hintNum].dependencies;var isSatisfied=dependencies.every(function(dependency){return _this.props.hintStatus[dependency]===1;});return!isSatisfied;};_this.giveStuFeedback=props.giveStuFeedback;_this.unlockFirstHint=props.unlockFirstHint;_this.state={latestStep:0,currentExpanded:_this.unlockFirstHint?0:-1,hintAnswer:\"\"};if(_this.unlockFirstHint&&_this.props.hintStatus.length>0){_this.props.unlockHint(0,_this.props.parent);}return _this;}_createClass(SubHintSystem,[{key:\"render\",value:function render(){var _this2=this;var translate=this.props.translate;var _this$props=this.props,classes=_this$props.classes,index=_this$props.index,parent=_this$props.parent,hintVars=_this$props.hintVars,problemID=_this$props.problemID,seed=_this$props.seed;var currentExpanded=this.state.currentExpanded;var _this$context=this.context,debug=_this$context.debug,use_expanded_view=_this$context.use_expanded_view;return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:this.props.hints.map(function(hint,i){return/*#__PURE__*/_jsxs(Accordion,{onChange:function onChange(event,expanded){return _this2.unlockHint(event,expanded,i);},disabled:_this2.isLocked(i)&&!(use_expanded_view&&debug),expanded:currentExpanded===i||use_expanded_view!=null&&use_expanded_view&&debug,defaultExpanded:false,children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),\"aria-controls\":\"panel1a-content\",id:\"panel1a-header\",children:/*#__PURE__*/_jsxs(Typography,{className:classes.heading,children:[translate('hintsystem.hint')+(i+1)+\": \",\" \",renderText(hint.title,problemID,chooseVariables(Object.assign({},hintVars,hint.variabilization),seed),_this2.context),\" \"]})}),/*#__PURE__*/_jsx(AccordionDetails,{children:/*#__PURE__*/_jsxs(Typography,{component:'span',style:{width:\"100%\"},children:[renderText(hint.text,problemID,chooseVariables(Object.assign({},hintVars,hint.variabilization),seed),_this2.context),hint.type===\"scaffold\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Spacer,{}),/*#__PURE__*/_jsx(HintTextbox,{hint:hint,type:\"subHintTextbox\",hintNum:i,index:\"\".concat(index,\"-\").concat(parent),submitHint:function submitHint(parsed,hint,correctAnswer,hintNum){return _this2.props.submitHint(parsed,hint,correctAnswer,i,hintNum);},giveStuFeedback:_this2.giveStuFeedback})]}):\"\"]})})]},i);})});}}]);return SubHintSystem;}(React.Component);SubHintSystem.contextType=ThemeContext;var styles=function styles(theme){return{root:{width:'100%'},heading:{fontSize:theme.typography.pxToRem(15),fontWeight:theme.typography.fontWeightRegular}};};export default withStyles(styles)(withTranslation(SubHintSystem));","map":{"version":3,"names":["React","withStyles","Accordion","AccordionSummary","AccordionDetails","Typography","ExpandMoreIcon","HintTextbox","renderText","chooseVariables","Spacer","ThemeContext","withTranslation","SubHintSystem","props","unlockHint","event","expanded","i","state","currentExpanded","setState","hintStatus","length","parent","latestStep","isLocked","hintNum","dependencies","hints","isSatisfied","every","dependency","giveStuFeedback","unlockFirstHint","hintAnswer","translate","classes","index","hintVars","problemID","seed","context","debug","use_expanded_view","root","map","hint","heading","title","Object","assign","variabilization","width","text","type","parsed","correctAnswer","submitHint","Component","contextType","styles","theme","fontSize","typography","pxToRem","fontWeight","fontWeightRegular"],"sources":["/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/src/components/problem-layout/SubHintSystem.js"],"sourcesContent":["import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport HintTextbox from './HintTextbox.js';\nimport { renderText, chooseVariables } from '../../platform-logic/renderText.js';\nimport Spacer from \"../Spacer\";\nimport { ThemeContext } from \"../../config/config\";\nimport withTranslation from \"../../util/withTranslation.js\"\n\n\nclass SubHintSystem extends React.Component {\n    static contextType = ThemeContext;\n\n    constructor(props) {\n        super(props);\n        this.giveStuFeedback = props.giveStuFeedback;\n        this.unlockFirstHint = props.unlockFirstHint;\n        this.state = {\n            latestStep: 0,\n            currentExpanded: this.unlockFirstHint ? 0 : -1,\n            hintAnswer: \"\"\n        }\n        if (this.unlockFirstHint && this.props.hintStatus.length > 0) {\n            this.props.unlockHint(0, this.props.parent);\n        }\n    }\n\n    unlockHint = (event, expanded, i) => {\n        if (this.state.currentExpanded === i) {\n            this.setState({ currentExpanded: -1 });\n        } else {\n            this.setState({ currentExpanded: i });\n            if (expanded && i < this.props.hintStatus.length) {\n                this.props.unlockHint(i, this.props.parent);\n            }\n            this.setState({ latestStep: i });\n        }\n    }\n\n    isLocked = (hintNum) => {\n        if (hintNum === 0) {\n            return false;\n        }\n        var dependencies = this.props.hints[hintNum].dependencies;\n        var isSatisfied = dependencies.every(dependency => this.props.hintStatus[dependency] === 1);\n        return !isSatisfied;\n    }\n\n    render() {\n        const { translate } = this.props;\n        const { classes, index, parent, hintVars, problemID, seed } = this.props;\n        const { currentExpanded } = this.state;\n        const { debug, use_expanded_view } = this.context;\n\n        return (\n            <div className={classes.root}>\n                {this.props.hints.map((hint, i) => {\n                        return <Accordion key={i}\n                            onChange={(event, expanded) => this.unlockHint(event, expanded, i)}\n                            disabled={this.isLocked(i) && !(use_expanded_view && debug)}\n                            expanded={currentExpanded === i || (use_expanded_view != null && use_expanded_view && debug)}\n                            defaultExpanded={false}>\n                            <AccordionSummary\n                                expandIcon={<ExpandMoreIcon/>}\n                                aria-controls=\"panel1a-content\"\n                                id=\"panel1a-header\"\n                            >\n                                <Typography className={classes.heading}>\n                                {translate('hintsystem.hint') + (i + 1) + \": \"} {renderText(hint.title, problemID,\n                                    chooseVariables(Object.assign({}, hintVars, hint.variabilization), seed), this.context)} </Typography>\n                            </AccordionSummary>\n                            <AccordionDetails>\n                                <Typography component={'span'} style={{ width: \"100%\" }}>\n                                    {renderText(hint.text, problemID, chooseVariables(Object.assign({}, hintVars, hint.variabilization), seed), this.context)}\n                                    {hint.type === \"scaffold\" ?\n                                        <div>\n                                            <Spacer/>\n                                            <HintTextbox hint={hint} type={\"subHintTextbox\"}\n                                                         hintNum={i}\n                                                         index={`${index}-${parent}`}\n                                                         submitHint={(parsed, hint, correctAnswer, hintNum) => this.props.submitHint(parsed, hint, correctAnswer, i, hintNum)}\n                                                         giveStuFeedback={this.giveStuFeedback}\n                                            />\n                                        </div> : \"\"}\n                                </Typography>\n                            </AccordionDetails>\n                        </Accordion>\n                    }\n                )}\n            </div>\n        )\n    };\n\n}\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        fontWeight: theme.typography.fontWeightRegular,\n    },\n});\n\n\nexport default withStyles(styles)(withTranslation(SubHintSystem));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}