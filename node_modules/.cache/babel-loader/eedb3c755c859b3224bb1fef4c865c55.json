{"ast":null,"code":"import _slicedToArray from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _defineProperty from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _createForOfIteratorHelper from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{withStyles}from\"@material-ui/core/styles\";import Button from\"@material-ui/core/Button\";import Card from\"@material-ui/core/Card\";import CardContent from\"@material-ui/core/CardContent\";import ProblemCard from\"./ProblemCard\";import Grid from\"@material-ui/core/Grid\";import{animateScroll as scroll,Element,scroller}from\"react-scroll\";import update from\"../../models/BKT/BKT-brain.js\";import{chooseVariables,renderText}from\"../../platform-logic/renderText.js\";import styles from\"./common-styles.js\";import IconButton from\"@material-ui/core/IconButton\";import TextField from\"@material-ui/core/TextField\";import{NavLink}from\"react-router-dom\";import HelpOutlineOutlinedIcon from\"@material-ui/icons/HelpOutlineOutlined\";import FeedbackOutlinedIcon from\"@material-ui/icons/FeedbackOutlined\";import withTranslation from\"../../util/withTranslation.js\";import{CANVAS_WARNING_STORAGE_KEY,MIDDLEWARE_URL,SHOW_NOT_CANVAS_WARNING,SITE_NAME,ThemeContext}from\"../../config/config.js\";import{toast}from\"react-toastify\";import to from\"await-to-js\";import ToastID from\"../../util/toastIds\";import Spacer from\"../Spacer\";import{stagingProp}from\"../../util/addStagingProperty\";import{cleanArray}from\"../../util/cleanObject\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Problem=/*#__PURE__*/function(_React$Component){_inherits(Problem,_React$Component);var _super=_createSuper(Problem);function Problem(props,context){var _this$props$lesson,_this$props$lesson2,_this$props$lesson3,_this$props$lesson4,_this$props$lesson5,_this$props$lesson6,_this$props$lesson7,_this$props$lesson8,_this$props$lesson9,_this$props$lesson10,_this$props$lesson11;var _this;_classCallCheck(this,Problem);_this=_super.call(this,props);_this.answerMade=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(cardIndex,kcArray,isCorrect,stepId){var _this$state,stepStates,firstAttempts,_this$props,lesson,problem,completedSteps,_kcArray,_iterator,_step,kc,newCompletedSteps,objectives,nextStepStates,giveStuFeedback,numSteps,numAttempted,numCorrect;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,stepStates=_this$state.stepStates,firstAttempts=_this$state.firstAttempts;_this$props=_this.props,lesson=_this$props.lesson,problem=_this$props.problem,completedSteps=_this$props.completedSteps;console.debug(\"answer made and is correct: \".concat(isCorrect));if(!(stepStates[cardIndex]===true)){_context.next=5;break;}return _context.abrupt(\"return\");case 5:if(!(stepStates[cardIndex]==null)){_context.next=28;break;}if(kcArray==null){kcArray=[];}_kcArray=cleanArray(kcArray);_iterator=_createForOfIteratorHelper(_kcArray);_context.prev=9;_iterator.s();case 11:if((_step=_iterator.n()).done){_context.next=20;break;}kc=_step.value;if(_this.bktParams[kc]){_context.next=17;break;}console.debug(\"invalid KC\",kc);_this.context.firebase.submitSiteLog(\"site-warning\",\"missing-kc\",{kc:kc,cardIndex:cardIndex},_this.context.problemID);return _context.abrupt(\"continue\",18);case 17:if(_this.doMasteryUpdate&&(firstAttempts[cardIndex]===undefined||firstAttempts[cardIndex]===false)){firstAttempts[cardIndex]=true;update(_this.bktParams[kc],isCorrect);}case 18:_context.next=11;break;case 20:_context.next=25;break;case 22:_context.prev=22;_context.t0=_context[\"catch\"](9);_iterator.e(_context.t0);case 25:_context.prev=25;_iterator.f();return _context.finish(25);case 28:if(!_this.context.debug&&isCorrect){newCompletedSteps=new Set(completedSteps);if(stepId){newCompletedSteps.add(stepId);}objectives=Object.keys(lesson.learningObjectives);objectives.unshift(0);}nextStepStates=_objectSpread(_objectSpread({},stepStates),{},_defineProperty({},cardIndex,isCorrect));giveStuFeedback=_this.giveStuFeedback;numSteps=problem.steps.length;if(giveStuFeedback){_context.next=37;break;}numAttempted=Object.values(nextStepStates).filter(function(stepState){return stepState!=null;}).length;// console.log(\"num attempted: \", numAttempted);\n// console.log(\"num steps: \", numSteps);\n// console.log(\"step states: \", Object.values(nextStepStates));\n_this.setState({stepStates:nextStepStates});if(numAttempted===numSteps){_this.setState({problemFinished:true,stepStates:nextStepStates});}// don't attempt to auto scroll to next step\nreturn _context.abrupt(\"return\");case 37:if(isCorrect){numCorrect=Object.values(nextStepStates).filter(function(stepState){return stepState===true;}).length;if(numSteps!==numCorrect){console.debug(\"not last step so not done w/ problem, step states:\",nextStepStates);scroller.scrollTo((cardIndex+1).toString(),{duration:500,smooth:true,offset:-100});_this.setState({stepStates:nextStepStates});}else{_this.setState({problemFinished:true,stepStates:nextStepStates});}}case 38:case\"end\":return _context.stop();}}},_callee,null,[[9,22,25,28]]);}));return function(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();_this.clickNextProblem=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:scroll.scrollToTop({duration:900,smooth:true});_context2.next=3;return _this.props.problemComplete(_this.context);case 3:_this.setState({stepStates:{},firstAttempts:{},problemFinished:false,feedback:\"\",feedbackSubmitted:false});case 4:case\"end\":return _context2.stop();}}},_callee2);}));_this.submitFeedback=function(){var problem=_this.props.problem;console.debug(\"problem when submitting feedback\",problem);_this.context.firebase.submitFeedback(problem.id,_this.state.feedback,_this.state.problemFinished,chooseVariables(problem.variabilization,_this.props.seed),problem.courseName,problem.steps,problem.lesson);_this.setState({feedback:\"\",feedbackSubmitted:true});};_this.toggleFeedback=function(){scroll.scrollToBottom({duration:500,smooth:true});_this.setState(function(prevState){return{showFeedback:!prevState.showFeedback};});};_this._getNextDebug=function(offset){return _this.context.problemIDs[_this.context.problemIDs.indexOf(_this.props.problem.id)+offset]||\"/\";};_this.getOerLicense=function(){var _this$props2=_this.props,lesson=_this$props2.lesson,problem=_this$props2.problem;var oerArray,licenseArray;var oerLink,oerName;var licenseLink,licenseName;try{if(problem.oer!=null&&problem.oer.includes(\" <\")){oerArray=problem.oer.split(\" <\");}else if(lesson.courseOER!=null&&lesson.courseOER.includes(\" \")){oerArray=lesson.courseOER.split(\" <\");}else{oerArray=[\"\",\"\"];}}catch(error){oerArray=[\"\",\"\"];}oerLink=oerArray[0];oerName=oerArray[1].substring(0,oerArray[1].length-1);try{if(problem.license!=null&&problem.license.includes(\" \")){licenseArray=problem.license.split(\" <\");}else if(lesson.courseLicense!=null&&lesson.courseLicense.includes(\" \")){licenseArray=lesson.courseLicense.split(\" <\");}else{licenseArray=[\"\",\"\"];}}catch(error){licenseArray=[\"\",\"\"];}licenseLink=licenseArray[0];licenseName=licenseArray[1].substring(0,licenseArray[1].length-1);return[oerLink,oerName,licenseLink,licenseName];};_this.completedSteps=new Set();_this.bktParams=context.bktParams;_this.heuristic=context.heuristic;var _giveStuFeedback=(_this$props$lesson=_this.props.lesson)===null||_this$props$lesson===void 0?void 0:_this$props$lesson.giveStuFeedback;var giveStuHints=(_this$props$lesson2=_this.props.lesson)===null||_this$props$lesson2===void 0?void 0:_this$props$lesson2.giveStuHints;var giveStuBottomHintOnly=(_this$props$lesson3=_this.props.lesson)===null||_this$props$lesson3===void 0?void 0:_this$props$lesson3.giveStuBottomHintOnly;var keepMCOrder=(_this$props$lesson4=_this.props.lesson)===null||_this$props$lesson4===void 0?void 0:_this$props$lesson4.keepMCOrder;var keyboardType=(_this$props$lesson5=_this.props.lesson)===null||_this$props$lesson5===void 0?void 0:_this$props$lesson5.keyboardType;var doMasteryUpdate=(_this$props$lesson6=_this.props.lesson)===null||_this$props$lesson6===void 0?void 0:_this$props$lesson6.doMasteryUpdate;var unlockFirstHint=(_this$props$lesson7=_this.props.lesson)===null||_this$props$lesson7===void 0?void 0:_this$props$lesson7.unlockFirstHint;var giveStuBottomHint=(_this$props$lesson8=_this.props.lesson)===null||_this$props$lesson8===void 0?void 0:_this$props$lesson8.allowBottomHint;_this.giveHintOnIncorrect=true;_this.giveStuFeedback=_giveStuFeedback==null||_giveStuFeedback;_this.keepMCOrder=keepMCOrder!=null&&keepMCOrder;_this.keyboardType=keyboardType!=null&&keyboardType;_this.giveStuHints=giveStuHints==null||giveStuHints;_this.giveStuBottomHintOnly=giveStuBottomHintOnly==null||giveStuBottomHintOnly;_this.doMasteryUpdate=doMasteryUpdate==null||doMasteryUpdate;_this.unlockFirstHint=unlockFirstHint!=null&&unlockFirstHint;_this.giveStuBottomHint=giveStuBottomHint==null||giveStuBottomHint;_this.giveDynamicHint=(_this$props$lesson9=_this.props.lesson)===null||_this$props$lesson9===void 0?void 0:_this$props$lesson9.allowDynamicHint;_this.prompt_template=(_this$props$lesson10=_this.props.lesson)!==null&&_this$props$lesson10!==void 0&&_this$props$lesson10.prompt_template?(_this$props$lesson11=_this.props.lesson)===null||_this$props$lesson11===void 0?void 0:_this$props$lesson11.prompt_template:\"\";_this.state={stepStates:{},firstAttempts:{},problemFinished:false,showFeedback:false,feedback:\"\",feedbackSubmitted:false};return _this;}_createClass(Problem,[{key:\"componentDidMount\",value:function componentDidMount(){var lesson=this.props.lesson;document[\"oats-meta-courseName\"]=(lesson===null||lesson===void 0?void 0:lesson.courseName)||\"\";document[\"oats-meta-textbookName\"]=(lesson===null||lesson===void 0?void 0:lesson.courseName.substring(((lesson===null||lesson===void 0?void 0:lesson.courseName)||\"\").indexOf(\":\")+1).trim())||\"\";// query selects all katex annotation and adds aria label attribute to it\nvar _iterator2=_createForOfIteratorHelper(document.querySelectorAll(\"annotation\")),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var annotation=_step2.value;annotation.ariaLabel=annotation.textContent;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document[\"oats-meta-courseName\"]=\"\";document[\"oats-meta-textbookName\"]=\"\";}},{key:\"render\",value:function render(){var _this2=this;var translate=this.props.translate;var _this$props3=this.props,classes=_this$props3.classes,problem=_this$props3.problem,seed=_this$props3.seed;var _this$getOerLicense=this.getOerLicense(),_this$getOerLicense2=_slicedToArray(_this$getOerLicense,4),oerLink=_this$getOerLicense2[0],oerName=_this$getOerLicense2[1],licenseLink=_this$getOerLicense2[2],licenseName=_this$getOerLicense2[3];if(problem==null){return/*#__PURE__*/_jsx(\"div\",{});}if(problem.id=='a041b61EmailAddress'){this.giveStuHints=false;this.giveStuFeedback=false;}else{this.giveStuHints=true;this.giveStuFeedback=true;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.prompt,role:\"banner\",children:[/*#__PURE__*/_jsx(Card,{className:classes.titleCard,children:/*#__PURE__*/_jsxs(CardContent,_objectSpread(_objectSpread({},stagingProp({\"data-selenium-target\":\"problem-header\"})),{},{children:[/*#__PURE__*/_jsxs(\"h1\",{className:classes.problemHeader,children:[renderText(problem.title,problem.id,chooseVariables(problem.variabilization,seed),this.context),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.problemBody,children:renderText(problem.body,problem.id,chooseVariables(problem.variabilization,seed),this.context)})]}))}),/*#__PURE__*/_jsx(Spacer,{height:8}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(\"div\",{role:\"main\",children:problem.steps.map(function(step,idx){return/*#__PURE__*/_jsx(Element,{name:idx.toString(),children:/*#__PURE__*/_jsx(ProblemCard,{problemID:problem.id,step:step,index:idx,answerMade:_this2.answerMade,seed:seed,problemVars:problem.variabilization,lesson:_this2.props.lesson.name,courseName:problem.courseName,problemTitle:problem.title,problemSubTitle:problem.body,giveStuFeedback:_this2.giveStuFeedback,giveStuHints:_this2.giveStuHints,giveStuBottomHintOnly:_this2.giveStuBottomHintOnly,keepMCOrder:_this2.keepMCOrder,keyboardType:_this2.keyboardType,giveHintOnIncorrect:_this2.giveHintOnIncorrect,unlockFirstHint:_this2.unlockFirstHint,giveStuBottomHint:_this2.giveStuBottomHint,giveDynamicHint:_this2.giveDynamicHint,prompt_template:_this2.prompt_template})},\"\".concat(problem.id,\"-\").concat(step.id));})}),/*#__PURE__*/_jsx(\"div\",{width:\"100%\",children:this.context.debug?/*#__PURE__*/_jsxs(Grid,{container:true,spacing:0,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:2},0),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,children:/*#__PURE__*/_jsx(NavLink,{activeClassName:\"active\",className:\"link\",to:this._getNextDebug(-1),type:\"menu\",style:{marginRight:\"10px\"},children:/*#__PURE__*/_jsx(Button,{className:classes.button,style:{width:\"100%\"},size:\"small\",onClick:function onClick(){return _this2.context.needRefresh=true;},children:translate('problem.PreviousProblem')})})},1),/*#__PURE__*/_jsx(Grid,{item:true,xs:4},2),/*#__PURE__*/_jsx(Grid,{item:true,xs:2,children:/*#__PURE__*/_jsx(NavLink,{activeClassName:\"active\",className:\"link\",to:this._getNextDebug(1),type:\"menu\",style:{marginRight:\"10px\"},children:/*#__PURE__*/_jsx(Button,{className:classes.button,style:{width:\"100%\"},size:\"small\",onClick:function onClick(){return _this2.context.needRefresh=true;},children:translate('problem.NextProblem')})})},3),/*#__PURE__*/_jsx(Grid,{item:true,xs:2},4)]}):/*#__PURE__*/_jsxs(Grid,{container:true,spacing:0,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:3,sm:3,md:5},1),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sm:6,md:2,children:/*#__PURE__*/_jsx(Button,{className:classes.button,style:{width:\"100%\"},size:\"small\",onClick:this.clickNextProblem,disabled:!(this.state.problemFinished||this.state.feedbackSubmitted),children:translate('problem.NextProblem')})},2),/*#__PURE__*/_jsx(Grid,{item:true,xs:3,sm:3,md:5},3)]})})]}),/*#__PURE__*/_jsxs(\"footer\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:20,fontSize:12},children:licenseName!==\"\"&&licenseLink!==\"\"?/*#__PURE__*/_jsxs(\"div\",{children:[\"\\\"\",problem.title,\"\\\" \",translate('problem.Derivative'),\"\\xA0\",/*#__PURE__*/_jsxs(\"a\",{href:oerLink,target:\"_blank\",rel:\"noreferrer\",children:[\"\\\"\",oerName,\"\\\"\"]}),translate('problem.Used'),\"\\xA0\",/*#__PURE__*/_jsx(\"a\",{href:licenseLink,target:\"_blank\",rel:\"noreferrer\",children:licenseName})]}):/*#__PURE__*/_jsx(\"div\",{children:oerName!==\"\"&&oerLink!==\"\"?/*#__PURE__*/_jsxs(\"div\",{children:[\"\\\"\",problem.title,\"\\\" \",translate('problem.Derivative'),\"\\xA0\",/*#__PURE__*/_jsxs(\"a\",{href:oerLink,target:\"_blank\",rel:\"noreferrer\",children:[\"\\\"\",oerName,\"\\\"\"]})]}):/*#__PURE__*/_jsx(_Fragment,{})})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexGrow:1,marginRight:20,justifyContent:\"flex-end\"},children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"help\",title:\"How to use \".concat(SITE_NAME,\"?\"),href:\"\".concat(window.location.origin).concat(window.location.pathname,\"#/posts/how-to-use\"),children:/*#__PURE__*/_jsx(HelpOutlineOutlinedIcon,{htmlColor:\"#000\",style:{fontSize:36,margin:-2}})}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"report problem\",onClick:this.toggleFeedback,title:\"Report Problem\",children:/*#__PURE__*/_jsx(FeedbackOutlinedIcon,{htmlColor:\"#000\",style:{fontSize:32}})})]})]}),this.state.showFeedback?/*#__PURE__*/_jsxs(\"div\",{className:\"Feedback\",children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h1\",{children:translate('problem.Feedback')})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.textBox,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.textBoxHeader,children:/*#__PURE__*/_jsx(\"center\",{children:this.state.feedbackSubmitted?translate('problem.Thanks'):translate('problem.Description')})}),this.state.feedbackSubmitted?/*#__PURE__*/_jsx(Spacer,{}):/*#__PURE__*/_jsxs(Grid,{container:true,spacing:0,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:1,sm:2,md:2},1),/*#__PURE__*/_jsxs(Grid,{item:true,xs:10,sm:8,md:8,children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-multiline-flexible\",label:translate('problem.Response'),multiline:true,fullWidth:true,minRows:\"6\",maxRows:\"20\",value:this.state.feedback,onChange:function onChange(event){return _this2.setState({feedback:event.target.value});},className:classes.textField,margin:\"normal\",variant:\"outlined\"}),\" \"]},2),/*#__PURE__*/_jsx(Grid,{item:true,xs:1,sm:2,md:2},3)]})]}),this.state.feedbackSubmitted?\"\":/*#__PURE__*/_jsxs(\"div\",{className:\"submitFeedback\",children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:0,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:3,sm:3,md:5},1),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sm:6,md:2,children:/*#__PURE__*/_jsx(Button,{className:classes.button,style:{width:\"100%\"},size:\"small\",onClick:this.submitFeedback,disabled:this.state.feedback===\"\",children:translate('problem.Submit')})},2),/*#__PURE__*/_jsx(Grid,{item:true,xs:3,sm:3,md:5},3)]}),/*#__PURE__*/_jsx(Spacer,{})]})]}):\"\"]})]});}}]);return Problem;}(React.Component);Problem.contextType=ThemeContext;export default withStyles(styles)(withTranslation(Problem));","map":{"version":3,"names":["React","withStyles","Button","Card","CardContent","ProblemCard","Grid","animateScroll","scroll","Element","scroller","update","chooseVariables","renderText","styles","IconButton","TextField","NavLink","HelpOutlineOutlinedIcon","FeedbackOutlinedIcon","withTranslation","CANVAS_WARNING_STORAGE_KEY","MIDDLEWARE_URL","SHOW_NOT_CANVAS_WARNING","SITE_NAME","ThemeContext","toast","to","ToastID","Spacer","stagingProp","cleanArray","Problem","props","context","answerMade","cardIndex","kcArray","isCorrect","stepId","state","stepStates","firstAttempts","lesson","problem","completedSteps","console","debug","_kcArray","kc","bktParams","firebase","submitSiteLog","problemID","doMasteryUpdate","undefined","newCompletedSteps","Set","add","objectives","Object","keys","learningObjectives","unshift","nextStepStates","giveStuFeedback","numSteps","steps","length","numAttempted","values","filter","stepState","setState","problemFinished","numCorrect","scrollTo","toString","duration","smooth","offset","clickNextProblem","scrollToTop","problemComplete","feedback","feedbackSubmitted","submitFeedback","id","variabilization","seed","courseName","toggleFeedback","scrollToBottom","prevState","showFeedback","_getNextDebug","problemIDs","indexOf","getOerLicense","oerArray","licenseArray","oerLink","oerName","licenseLink","licenseName","oer","includes","split","courseOER","error","substring","license","courseLicense","heuristic","giveStuHints","giveStuBottomHintOnly","keepMCOrder","keyboardType","unlockFirstHint","giveStuBottomHint","allowBottomHint","giveHintOnIncorrect","giveDynamicHint","allowDynamicHint","prompt_template","document","trim","querySelectorAll","annotation","ariaLabel","textContent","translate","classes","prompt","titleCard","problemHeader","title","problemBody","body","map","step","idx","name","marginRight","button","width","needRefresh","display","flexDirection","alignItems","marginLeft","fontSize","flexGrow","justifyContent","window","location","origin","pathname","margin","textBox","textBoxHeader","event","target","value","textField","Component","contextType"],"sources":["/Users/allisonwang/Downloads/chemistry/OATutor-Chem1A/src/components/problem-layout/Problem.js"],"sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport ProblemCard from \"./ProblemCard\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { animateScroll as scroll, Element, scroller } from \"react-scroll\";\nimport update from \"../../models/BKT/BKT-brain.js\";\nimport {\n    chooseVariables,\n    renderText,\n} from \"../../platform-logic/renderText.js\";\nimport styles from \"./common-styles.js\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { NavLink } from \"react-router-dom\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\nimport FeedbackOutlinedIcon from \"@material-ui/icons/FeedbackOutlined\";\nimport withTranslation from \"../../util/withTranslation.js\"\n\nimport {\n    CANVAS_WARNING_STORAGE_KEY,\n    MIDDLEWARE_URL,\n    SHOW_NOT_CANVAS_WARNING,\n    SITE_NAME,\n    ThemeContext,\n} from \"../../config/config.js\";\nimport { toast } from \"react-toastify\";\nimport to from \"await-to-js\";\nimport ToastID from \"../../util/toastIds\";\nimport Spacer from \"../Spacer\";\nimport { stagingProp } from \"../../util/addStagingProperty\";\nimport { cleanArray } from \"../../util/cleanObject\";\n\nclass Problem extends React.Component {\n    static contextType = ThemeContext;\n\n    constructor(props, context) {\n        super(props);\n        this.completedSteps = new Set();\n        this.bktParams = context.bktParams;\n        this.heuristic = context.heuristic;\n\n        const giveStuFeedback = this.props.lesson?.giveStuFeedback;\n        const giveStuHints = this.props.lesson?.giveStuHints;\n        const giveStuBottomHintOnly = this.props.lesson?.giveStuBottomHintOnly;\n        const keepMCOrder = this.props.lesson?.keepMCOrder;\n        const keyboardType = this.props.lesson?.keyboardType;\n        const doMasteryUpdate = this.props.lesson?.doMasteryUpdate;\n        const unlockFirstHint = this.props.lesson?.unlockFirstHint;\n        const giveStuBottomHint = this.props.lesson?.allowBottomHint;\n\n        this.giveHintOnIncorrect = true;\n        this.giveStuFeedback = giveStuFeedback == null || giveStuFeedback;\n        this.keepMCOrder = keepMCOrder != null && keepMCOrder;\n        this.keyboardType = keyboardType != null && keyboardType;\n        this.giveStuHints = giveStuHints == null || giveStuHints;\n        this.giveStuBottomHintOnly = giveStuBottomHintOnly == null || giveStuBottomHintOnly\n        this.doMasteryUpdate = doMasteryUpdate == null || doMasteryUpdate;\n        this.unlockFirstHint = unlockFirstHint != null && unlockFirstHint;\n        this.giveStuBottomHint = giveStuBottomHint == null || giveStuBottomHint;\n        this.giveDynamicHint = this.props.lesson?.allowDynamicHint;\n        this.prompt_template = this.props.lesson?.prompt_template\n            ? this.props.lesson?.prompt_template\n            : \"\";\n\n        this.state = {\n            stepStates: {},\n            firstAttempts: {},\n            problemFinished: false,\n            showFeedback: false,\n            feedback: \"\",\n            feedbackSubmitted: false,\n        };\n    }\n\n    componentDidMount() {\n        const { lesson } = this.props;\n        document[\"oats-meta-courseName\"] = lesson?.courseName || \"\";\n        document[\"oats-meta-textbookName\"] =\n            lesson?.courseName\n                .substring((lesson?.courseName || \"\").indexOf(\":\") + 1)\n                .trim() || \"\";\n\n        // query selects all katex annotation and adds aria label attribute to it\n        for (const annotation of document.querySelectorAll(\"annotation\")) {\n            annotation.ariaLabel = annotation.textContent;\n        }\n    }\n\n    componentWillUnmount() {\n        document[\"oats-meta-courseName\"] = \"\";\n        document[\"oats-meta-textbookName\"] = \"\";\n    }\n\n    answerMade = async (cardIndex, kcArray, isCorrect, stepId) => {\n        const { stepStates, firstAttempts } = this.state;\n        const { lesson, problem, completedSteps } = this.props;\n\n        console.debug(`answer made and is correct: ${isCorrect}`);\n\n        if (stepStates[cardIndex] === true) {\n            return;\n        }\n\n        if (stepStates[cardIndex] == null) {\n            if (kcArray == null) {\n                kcArray = [];\n            }\n            const _kcArray = cleanArray(kcArray);\n            for (const kc of _kcArray) {\n                if (!this.bktParams[kc]) {\n                    console.debug(\"invalid KC\", kc);\n                    this.context.firebase.submitSiteLog(\n                        \"site-warning\",\n                        \"missing-kc\",\n                        {\n                            kc,\n                            cardIndex,\n                        },\n                        this.context.problemID\n                    );\n                    continue;\n                }\n                if (this.doMasteryUpdate && (firstAttempts[cardIndex] === undefined || firstAttempts[cardIndex] === false)) {\n                    firstAttempts[cardIndex] = true;\n                    update(this.bktParams[kc], isCorrect);\n                }\n            }\n        }\n\n        if (!this.context.debug && isCorrect) {\n            const newCompletedSteps = new Set(completedSteps);\n            if(stepId) {\n                newCompletedSteps.add(stepId);\n            }\n\n            const objectives = Object.keys(lesson.learningObjectives);\n            objectives.unshift(0);\n        } \n        const nextStepStates = {\n            ...stepStates,\n            [cardIndex]: isCorrect,\n        };\n\n        const giveStuFeedback = this.giveStuFeedback;\n        const numSteps = problem.steps.length;\n\n        if (!giveStuFeedback) {\n            const numAttempted = Object.values(nextStepStates).filter(\n                (stepState) => stepState != null\n            ).length;\n            // console.log(\"num attempted: \", numAttempted);\n            // console.log(\"num steps: \", numSteps);\n            // console.log(\"step states: \", Object.values(nextStepStates));\n            this.setState({\n                stepStates: nextStepStates,\n            });\n            if (numAttempted === numSteps) {\n                this.setState({\n                    problemFinished: true,\n                    stepStates: nextStepStates,\n                });\n            }\n            // don't attempt to auto scroll to next step\n            return;\n        }\n\n        if (isCorrect) {\n            const numCorrect = Object.values(nextStepStates).filter(\n                (stepState) => stepState === true\n            ).length;\n            if (numSteps !== numCorrect) {\n                console.debug(\n                    \"not last step so not done w/ problem, step states:\",\n                    nextStepStates\n                );\n                scroller.scrollTo((cardIndex + 1).toString(), {\n                    duration: 500,\n                    smooth: true,\n                    offset: -100,\n                });\n                this.setState({\n                    stepStates: nextStepStates,\n                });\n            } else {\n                this.setState({\n                    problemFinished: true,\n                    stepStates: nextStepStates,\n                });\n            }\n        }\n    };\n\n    clickNextProblem = async () => {\n        scroll.scrollToTop({ duration: 900, smooth: true });\n\n        await this.props.problemComplete(this.context);\n\n        this.setState({\n            stepStates: {},\n            firstAttempts: {},\n            problemFinished: false,\n            feedback: \"\",\n            feedbackSubmitted: false,\n        });\n    };\n\n    submitFeedback = () => {\n        const { problem } = this.props;\n\n        console.debug(\"problem when submitting feedback\", problem);\n        this.context.firebase.submitFeedback(\n            problem.id,\n            this.state.feedback,\n            this.state.problemFinished,\n            chooseVariables(problem.variabilization, this.props.seed),\n            problem.courseName,\n            problem.steps,\n            problem.lesson\n        );\n        this.setState({ feedback: \"\", feedbackSubmitted: true });\n    };\n\n    toggleFeedback = () => {\n        scroll.scrollToBottom({ duration: 500, smooth: true });\n        this.setState((prevState) => ({\n            showFeedback: !prevState.showFeedback,\n        }));\n    };\n\n    _getNextDebug = (offset) => {\n        return (\n            this.context.problemIDs[\n                this.context.problemIDs.indexOf(this.props.problem.id) + offset\n            ] || \"/\"\n        );\n    };\n\n    getOerLicense = () => {\n        const { lesson, problem } = this.props;\n        var oerArray, licenseArray;\n        var oerLink, oerName;\n        var licenseLink, licenseName;\n\ttry {\n        if (problem.oer != null && problem.oer.includes(\" <\")) {\n            oerArray = problem.oer.split(\" <\");\n        } else if (lesson.courseOER != null && lesson.courseOER.includes(\" \")) {\n            oerArray = lesson.courseOER.split(\" <\");\n        } else {\n            oerArray = [\"\", \"\"];\n        }\n\t} catch(error) {\n\t\toerArray = [\"\", \"\"];\n\t}\n\n        oerLink = oerArray[0];\n        oerName = oerArray[1].substring(0, oerArray[1].length - 1);\n\n        try {\n            if (problem.license != null && problem.license.includes(\" \")) {\n                licenseArray = problem.license.split(\" <\");\n            } else if (\n                lesson.courseLicense != null &&\n                lesson.courseLicense.includes(\" \")\n            ) {\n                licenseArray = lesson.courseLicense.split(\" <\");\n            } else {\n                licenseArray = [\"\", \"\"];\n            }\n        } catch(error) {\n            licenseArray = [\"\", \"\"];\n        }\n        licenseLink = licenseArray[0];\n        licenseName = licenseArray[1].substring(0, licenseArray[1].length - 1);\n        return [oerLink, oerName, licenseLink, licenseName];\n    };\n\n    render() {\n        const { translate } = this.props;\n        const { classes, problem, seed } = this.props;\n        const [oerLink, oerName, licenseLink, licenseName] =\n            this.getOerLicense();\n        if (problem == null) {\n            return <div></div>;\n        }\n\n        if (problem.id == 'a041b61EmailAddress') {\n            this.giveStuHints = false\n            this.giveStuFeedback=false\n        } else {\n            this.giveStuHints = true\n            this.giveStuFeedback=true\n        }\n\n        return (\n            <>\n                <div>\n                    <div className={classes.prompt} role={\"banner\"}>\n                        <Card className={classes.titleCard}>\n                            <CardContent\n                                {...stagingProp({\n                                    \"data-selenium-target\": \"problem-header\",\n                                })}\n                            >\n                                <h1 className={classes.problemHeader}>\n                                    {renderText(\n                                        problem.title,\n                                        problem.id,\n                                        chooseVariables(\n                                            problem.variabilization,\n                                            seed\n                                        ),\n                                        this.context\n                                    )}\n                                    <hr />\n                                </h1>\n                                <div className={classes.problemBody}>\n                                    {renderText(\n                                        problem.body,\n                                        problem.id,\n                                        chooseVariables(\n                                            problem.variabilization,\n                                            seed\n                                        ),\n                                        this.context\n                                    )}\n                                </div>\n                            </CardContent>\n                        </Card>\n                        <Spacer height={8} />\n                        <hr />\n                    </div>\n                    <div role={\"main\"}>\n                        {problem.steps.map((step, idx) => (\n                            <Element\n                                name={idx.toString()}\n                                key={`${problem.id}-${step.id}`}\n                            >\n                                <ProblemCard\n                                    problemID={problem.id}\n                                    step={step}\n                                    index={idx}\n                                    answerMade={this.answerMade}\n                                    seed={seed}\n                                    problemVars={problem.variabilization}\n                                    lesson={this.props.lesson.name}\n                                    courseName={problem.courseName}\n                                    problemTitle={problem.title}\n                                    problemSubTitle={problem.body}\n                                    giveStuFeedback={this.giveStuFeedback}\n                                    giveStuHints={this.giveStuHints}\n                                    giveStuBottomHintOnly={this.giveStuBottomHintOnly}\n                                    keepMCOrder={this.keepMCOrder}\n                                    keyboardType={this.keyboardType}\n                                    giveHintOnIncorrect={\n                                        this.giveHintOnIncorrect\n                                    }\n                                    unlockFirstHint={this.unlockFirstHint}\n                                    giveStuBottomHint={this.giveStuBottomHint}\n                                    giveDynamicHint={this.giveDynamicHint}\n                                    prompt_template={this.prompt_template}\n                                />\n                            </Element>\n                        ))}\n                    </div>\n                    <div width=\"100%\">\n                        {this.context.debug ? (\n                            <Grid container spacing={0}>\n                                <Grid item xs={2} key={0} />\n                                <Grid item xs={2} key={1}>\n                                    <NavLink\n                                        activeClassName=\"active\"\n                                        className=\"link\"\n                                        to={this._getNextDebug(-1)}\n                                        type=\"menu\"\n                                        style={{ marginRight: \"10px\" }}\n                                    >\n                                        <Button\n                                            className={classes.button}\n                                            style={{ width: \"100%\" }}\n                                            size=\"small\"\n                                            onClick={() =>\n                                                (this.context.needRefresh = true)\n                                            }\n                                        >\n                                            {translate('problem.PreviousProblem')}\n                                        </Button>\n                                    </NavLink>\n                                </Grid>\n                                <Grid item xs={4} key={2} />\n                                <Grid item xs={2} key={3}>\n                                    <NavLink\n                                        activeClassName=\"active\"\n                                        className=\"link\"\n                                        to={this._getNextDebug(1)}\n                                        type=\"menu\"\n                                        style={{ marginRight: \"10px\" }}\n                                    >\n                                        <Button\n                                            className={classes.button}\n                                            style={{ width: \"100%\" }}\n                                            size=\"small\"\n                                            onClick={() =>\n                                                (this.context.needRefresh = true)\n                                            }\n                                        >\n                                           {translate('problem.NextProblem')}\n                                        </Button>\n                                    </NavLink>\n                                </Grid>\n                                <Grid item xs={2} key={4} />\n                            </Grid>\n                        ) : (\n                            \n                            <Grid container spacing={0}>\n                                <Grid item xs={3} sm={3} md={5} key={1} />\n                                <Grid item xs={6} sm={6} md={2} key={2}>\n                                    <Button\n                                        className={classes.button}\n                                        style={{ width: \"100%\" }}\n                                        size=\"small\"\n                                        onClick={this.clickNextProblem}\n                                        disabled={\n                                            !(\n                                                this.state.problemFinished ||\n                                                this.state.feedbackSubmitted\n                                            )\n                                        }\n                                    >\n                                        {translate('problem.NextProblem')}\n                                    </Button>\n                                </Grid>\n                                <Grid item xs={3} sm={3} md={5} key={3} />\n                            </Grid>\n                        )}\n                    </div>\n                </div>\n                <footer>\n                    <div\n                        style={{\n                            display: \"flex\",\n                            flexDirection: \"row\",\n                            alignItems: \"center\",\n                        }}\n                    >\n                        <div style={{ marginLeft: 20, fontSize: 12 }}>\n                            {licenseName !== \"\" && licenseLink !== \"\" ? (\n                                <div>\n                                    \"{problem.title}\" {translate('problem.Derivative')}&nbsp;\n                                    <a\n                                        href={oerLink}\n                                        target=\"_blank\"\n                                        rel=\"noreferrer\"\n                                    >\n                                        \"{oerName}\"\n                                    </a>\n                                    {translate('problem.Used')}&nbsp;\n                                    <a\n                                        href={licenseLink}\n                                        target=\"_blank\"\n                                        rel=\"noreferrer\"\n                                    >\n                                        {licenseName}\n                                    </a>\n                                </div>\n                            ) : (\n                                <div>\n                                {oerName !== \"\" && oerLink !== \"\" ? (\n                                <div>\n                                    \"{problem.title}\" {translate('problem.Derivative')}&nbsp;\n                                    <a\n                                        href={oerLink}\n                                        target=\"_blank\"\n                                        rel=\"noreferrer\"\n                                    >\n                                        \"{oerName}\"\n                                    </a>\n                                </div>\n                            ) : (\n                                <></>\n                            )}\n                            </div>\n                            )}\n                        </div>\n                        <div\n                            style={{\n                                display: \"flex\",\n                                flexGrow: 1,\n                                marginRight: 20,\n                                justifyContent: \"flex-end\",\n                            }}\n                        >\n                            <IconButton\n                                aria-label=\"help\"\n                                title={`How to use ${SITE_NAME}?`}\n                                href={`${window.location.origin}${window.location.pathname}#/posts/how-to-use`}\n                            >\n                                <HelpOutlineOutlinedIcon\n                                    htmlColor={\"#000\"}\n                                    style={{\n                                        fontSize: 36,\n                                        margin: -2,\n                                    }}\n                                />\n                            </IconButton>\n                            <IconButton\n                                aria-label=\"report problem\"\n                                onClick={this.toggleFeedback}\n                                title={\"Report Problem\"}\n                            >\n                                <FeedbackOutlinedIcon\n                                    htmlColor={\"#000\"}\n                                    style={{\n                                        fontSize: 32,\n                                    }}\n                                />\n                            </IconButton>\n                        </div>\n                    </div>\n                    {this.state.showFeedback ? (\n                        <div className=\"Feedback\">\n                            <center>\n                                <h1>{translate('problem.Feedback')}</h1>\n                            </center>\n                            <div className={classes.textBox}>\n                                <div className={classes.textBoxHeader}>\n                                    <center>\n                                        {this.state.feedbackSubmitted\n                                            ? translate('problem.Thanks')\n                                            : translate('problem.Description')}\n                                    </center>\n                                </div>\n                                {this.state.feedbackSubmitted ? (\n                                    <Spacer />\n                                ) : (\n                                    <Grid container spacing={0}>\n                                        <Grid\n                                            item\n                                            xs={1}\n                                            sm={2}\n                                            md={2}\n                                            key={1}\n                                        />\n                                        <Grid\n                                            item\n                                            xs={10}\n                                            sm={8}\n                                            md={8}\n                                            key={2}\n                                        >\n                                            <TextField\n                                                id=\"outlined-multiline-flexible\"\n                                                label={translate('problem.Response')}\n                                                multiline\n                                                fullWidth\n                                                minRows=\"6\"\n                                                maxRows=\"20\"\n                                                value={this.state.feedback}\n                                                onChange={(event) =>\n                                                    this.setState({\n                                                        feedback:\n                                                            event.target.value,\n                                                    })\n                                                }\n                                                className={classes.textField}\n                                                margin=\"normal\"\n                                                variant=\"outlined\"\n                                            />{\" \"}\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={1}\n                                            sm={2}\n                                            md={2}\n                                            key={3}\n                                        />\n                                    </Grid>\n                                )}\n                            </div>\n                            {this.state.feedbackSubmitted ? (\n                                \"\"\n                            ) : (\n                                <div className=\"submitFeedback\">\n                                    <Grid container spacing={0}>\n                                        <Grid\n                                            item\n                                            xs={3}\n                                            sm={3}\n                                            md={5}\n                                            key={1}\n                                        />\n                                        <Grid item xs={6} sm={6} md={2} key={2}>\n                                            <Button\n                                                className={classes.button}\n                                                style={{ width: \"100%\" }}\n                                                size=\"small\"\n                                                onClick={this.submitFeedback}\n                                                disabled={\n                                                    this.state.feedback === \"\"\n                                                }\n                                            >\n                                                {translate('problem.Submit')}\n                                            </Button>\n                                        </Grid>\n                                        <Grid\n                                            item\n                                            xs={3}\n                                            sm={3}\n                                            md={5}\n                                            key={3}\n                                        />\n                                    </Grid>\n                                    <Spacer />\n                                </div>\n                            )}\n                        </div>\n                    ) : (\n                        \"\"\n                    )}\n                </footer>\n            </>\n        );\n    }\n}\n\nexport default withStyles(styles)(withTranslation(Problem));"],"mappings":"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"},"metadata":{},"sourceType":"module"}